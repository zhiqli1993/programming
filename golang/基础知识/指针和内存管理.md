# Goè¯­è¨€æŒ‡é’ˆå’Œå†…å­˜ç®¡ç†

## ğŸ“š å­¦ä¹ ç›®æ ‡
æŒæ¡Goè¯­è¨€çš„æŒ‡é’ˆæ“ä½œå’Œå†…å­˜ç®¡ç†æœºåˆ¶ï¼Œç†è§£é€ƒé€¸åˆ†æå’Œåƒåœ¾å›æ”¶çš„å·¥ä½œåŸç†ã€‚

---

## 1. æŒ‡é’ˆåŸºç¡€

### 1.1 æŒ‡é’ˆçš„å®šä¹‰å’Œä½¿ç”¨
```go
package main

import "fmt"

func main() {
    var x int = 42
    var p *int = &x // è·å–å˜é‡xçš„åœ°å€

    fmt.Printf("xçš„å€¼: %d\n", x)
    fmt.Printf("xçš„åœ°å€: %p\n", &x)
    fmt.Printf("pæŒ‡å‘çš„åœ°å€: %p\n", p)
    fmt.Printf("pæŒ‡å‘çš„å€¼: %d\n", *p) // è§£å¼•ç”¨
}
```

### 1.2 é€šè¿‡æŒ‡é’ˆä¿®æ”¹å€¼
```go
package main

import "fmt"

func modifyValue(p *int) {
    *p = *p * 2 // ä¿®æ”¹æŒ‡é’ˆæŒ‡å‘çš„å€¼
}

func main() {
    var x int = 10
    fmt.Printf("ä¿®æ”¹å‰: %d\n", x)
    modifyValue(&x)
    fmt.Printf("ä¿®æ”¹å: %d\n", x)
}
```

### 1.3 nilæŒ‡é’ˆ
```go
package main

import "fmt"

func main() {
    var p *int // nilæŒ‡é’ˆ
    fmt.Printf("pçš„å€¼: %v, æ˜¯å¦ä¸ºnil: %t\n", p, p == nil)
}
```

---

## 2. å†…å­˜åˆ†é…

### 2.1 ä½¿ç”¨newåˆ†é…å†…å­˜
```go
package main

import "fmt"

func main() {
    p := new(int) // åˆ†é…ä¸€ä¸ªintç±»å‹çš„å†…å­˜
    fmt.Printf("pçš„åœ°å€: %p, pçš„å€¼: %d\n", p, *p)
    *p = 42
    fmt.Printf("ä¿®æ”¹åpçš„å€¼: %d\n", *p)
}
```

### 2.2 ä½¿ç”¨makeåˆ†é…å†…å­˜
```go
package main

import "fmt"

func main() {
    slice := make([]int, 5) // åˆ†é…ä¸€ä¸ªåˆ‡ç‰‡
    fmt.Printf("åˆ‡ç‰‡: %v, é•¿åº¦: %d, å®¹é‡: %d\n", slice, len(slice), cap(slice))
}
```

---

## 3. é€ƒé€¸åˆ†æ

### 3.1 æ ˆåˆ†é… vs å †åˆ†é…
```go
package main

import "fmt"

func stackAllocation() int {
    x := 42 // æ ˆåˆ†é…
    return x
}

func heapAllocation() *int {
    x := 42 // å †åˆ†é…
    return &x
}

func main() {
    fmt.Printf("æ ˆåˆ†é…: %d\n", stackAllocation())
    fmt.Printf("å †åˆ†é…: %d\n", *heapAllocation())
}
```

### 3.2 æŸ¥çœ‹é€ƒé€¸åˆ†æç»“æœ
```bash
# ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹é€ƒé€¸åˆ†æç»“æœ
go build -gcflags="-m" main.go
```

---

## 4. åƒåœ¾å›æ”¶

### 4.1 åƒåœ¾å›æ”¶çš„å·¥ä½œåŸç†
- Goè¯­è¨€ä½¿ç”¨**ä¸‰è‰²æ ‡è®°æ³•**è¿›è¡Œåƒåœ¾å›æ”¶ã€‚
- åƒåœ¾å›æ”¶å™¨ä¼šæ ‡è®°æ´»åŠ¨å¯¹è±¡å¹¶æ¸…é™¤ä¸å†ä½¿ç”¨çš„å¯¹è±¡ã€‚

### 4.2 æ‰‹åŠ¨è§¦å‘åƒåœ¾å›æ”¶
```go
package main

import (
    "fmt"
    "runtime"
)

func main() {
    fmt.Println("æ‰‹åŠ¨è§¦å‘åƒåœ¾å›æ”¶")
    runtime.GC()
}
```

---

## 5. ç»¼åˆæ¡ˆä¾‹ï¼šå†…å­˜ä¼˜åŒ–
```go
package main

import "fmt"

func main() {
    // ä½¿ç”¨å¯¹è±¡æ± ä¼˜åŒ–å†…å­˜åˆ†é…
    pool := make([]*int, 0, 10)

    for i := 0; i < 10; i++ {
        obj := new(int)
        *obj = i
        pool = append(pool, obj)
    }

    for _, obj := range pool {
        fmt.Printf("å¯¹è±¡å€¼: %d\n", *obj)
    }
}
```

---

## 6. å­¦ä¹ æ£€æŸ¥ç‚¹

- [ ] ç†è§£æŒ‡é’ˆçš„åŸºæœ¬æ¦‚å¿µå’Œæ“ä½œ
- [ ] æŒæ¡å†…å­˜åˆ†é…çš„ä¸¤ç§æ–¹å¼ï¼ˆnewå’Œmakeï¼‰
- [ ] ç†è§£é€ƒé€¸åˆ†æçš„ä½œç”¨
- [ ] ç†è§£åƒåœ¾å›æ”¶çš„å·¥ä½œåŸç†
- [ ] èƒ½ç”¨æŒ‡é’ˆå’Œå†…å­˜ç®¡ç†ä¼˜åŒ–ç¨‹åºæ€§èƒ½

---

Goè¯­è¨€çš„æŒ‡é’ˆå’Œå†…å­˜ç®¡ç†è®¾è®¡ç®€æ´è€Œé«˜æ•ˆï¼ŒæŒæ¡è¿™äº›åŸºç¡€å°†ä¸ºåç»­çš„å¹¶å‘ç¼–ç¨‹å’Œæ€§èƒ½ä¼˜åŒ–å­¦ä¹ æ‰“ä¸‹åšå®åŸºç¡€ã€‚
